{
  "annotations": {
    "list": [
      {
        "builtIn": 1,
        "datasource": "-- Grafana --",
        "enable": true,
        "hide": true,
        "iconColor": "rgba(0, 211, 255, 1)",
        "name": "Annotations & Alerts",
        "type": "dashboard"
      }
    ]
  },
  "editable": true,
  "gnetId": null,
  "graphTooltip": 1,
  "id": null,
  "links": [
    {
      "asDropdown": false,
      "icon": "external link",
      "includeVars": false,
      "keepTime": false,
      "tags": [],
      "targetBlank": true,
      "title": "GitHub Actions",
      "tooltip": "View all workflows on GitHub",
      "type": "link",
      "url": "https://github.com/ductoanoxo/FOODFAST/actions"
    },
    {
      "asDropdown": false,
      "icon": "external link",
      "includeVars": false,
      "keepTime": false,
      "tags": [],
      "targetBlank": true,
      "title": "Pushgateway",
      "tooltip": "View raw metrics",
      "type": "link",
      "url": "http://13.220.101.54:9091"
    },
    {
      "asDropdown": false,
      "icon": "external link",
      "includeVars": false,
      "keepTime": false,
      "tags": [],
      "targetBlank": true,
      "title": "Prometheus",
      "tooltip": "Query metrics",
      "type": "link",
      "url": "http://13.220.101.54:9090"
    }
  ],
  "panels": [
    {
      "datasource": "Prometheus",
      "gridPos": {
        "h": 5,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "id": 1,
      "options": {
        "content": "# üöÄ FoodFast CI/CD Full Pipeline Dashboard\n\n## üìä Complete CI/CD Monitoring\n\nƒê√¢y l√† dashboard theo d√µi **TO√ÄN B·ªò quy tr√¨nh CI/CD** t·ª´ commit ƒë·∫øn production:\n\n### üîÑ Pipeline Flow:\n```\n1Ô∏è‚É£ CI - Test and Lint          ‚Üí Ch·∫°y tests, lint code\n         ‚Üì (success)\n2Ô∏è‚É£ Docker Build and Push        ‚Üí Build & push images to GHCR\n         ‚Üì (success + branch main)\n3Ô∏è‚É£ Auto Deploy to EC2          ‚Üí Deploy to production\n         ‚Üì (always)\n4Ô∏è‚É£ Export Metrics              ‚Üí Push metrics to this dashboard\n```\n\n### üìà Metrics Tracked:\n- **Pipeline Success Rate**: T·ª∑ l·ªá th√†nh c√¥ng c·ªßa to√†n b·ªô pipeline\n- **Stage Performance**: Th·ªùi gian t·ª´ng stage (Test ‚Üí Build ‚Üí Deploy)\n- **Time to Production**: T·ªïng th·ªùi gian t·ª´ commit ‚Üí production\n- **Deployment Frequency**: T·∫ßn su·∫•t deploy l√™n production\n- **Failed Stage Detection**: X√°c ƒë·ªãnh stage n√†o fail\n- **Branch & Actor Activity**: Ai ƒëang push, branch n√†o active\n\n### üéØ Quick Actions:\n- **Filter by Workflow**: Ch·ªçn stage mu·ªën theo d√µi (Test/Build/Deploy)\n- **Filter by Branch**: main, develop, deploy, feature branches\n- **Filter by Actor**: Contributor ƒëang l√†m vi·ªác\n- **Time Range**: Ch·ªçn kho·∫£ng th·ªùi gian xem (6h, 24h, 7d, 30d)\n\n---\n**Auto-refresh**: 30s | **Default time range**: Last 6 hours",
        "mode": "markdown"
      },
      "pluginVersion": "9.0.0",
      "title": "üìã Dashboard Overview - Full CI/CD Pipeline",
      "type": "text"
    },
    {
      "datasource": "Prometheus",
      "description": "Pipeline th√†nh c√¥ng = C·∫£ 3 stages ƒë·ªÅu success",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "max": 100,
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "red",
                "value": null
              },
              {
                "color": "orange",
                "value": 50
              },
              {
                "color": "yellow",
                "value": 70
              },
              {
                "color": "green",
                "value": 90
              }
            ]
          },
          "unit": "percent"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 6,
        "x": 0,
        "y": 5
      },
      "id": 2,
      "options": {
        "orientation": "auto",
        "reduceOptions": {
          "values": false,
          "calcs": [
            "lastNotNull"
          ],
          "fields": ""
        },
        "showThresholdLabels": false,
        "showThresholdMarkers": true,
        "text": {}
      },
      "pluginVersion": "9.0.0",
      "targets": [
        {
          "expr": "(sum(github_workflow_run_success_total{workflow=~\".*Deploy.*\"}) / sum(github_workflow_run_count_total{workflow=~\".*Deploy.*\"})) * 100",
          "refId": "A"
        }
      ],
      "title": "üéØ Full Pipeline Success Rate",
      "type": "gauge"
    },
    {
      "datasource": "Prometheus",
      "description": "T·ªïng th·ªùi gian t·ª´ CI Test ‚Üí Deploy ho√†n t·∫•t",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "yellow",
                "value": 600
              },
              {
                "color": "orange",
                "value": 1200
              },
              {
                "color": "red",
                "value": 1800
              }
            ]
          },
          "unit": "s"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 6,
        "x": 6,
        "y": 5
      },
      "id": 3,
      "options": {
        "colorMode": "value",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "values": false,
          "calcs": [
            "mean"
          ],
          "fields": ""
        },
        "text": {},
        "textMode": "value_and_name"
      },
      "pluginVersion": "9.0.0",
      "targets": [
        {
          "expr": "sum(github_workflow_run_duration_seconds{workflow=~\"CI.*|.*Build.*|.*Deploy.*\"})",
          "legendFormat": "Total Pipeline Time",
          "refId": "A"
        }
      ],
      "title": "‚è±Ô∏è Time to Production",
      "type": "stat"
    },
    {
      "datasource": "Prometheus",
      "description": "S·ªë l·∫ßn deploy l√™n production trong kho·∫£ng th·ªùi gian",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 6,
        "x": 12,
        "y": 5
      },
      "id": 4,
      "options": {
        "colorMode": "value",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "values": false,
          "calcs": [
            "sum"
          ],
          "fields": ""
        },
        "text": {},
        "textMode": "auto"
      },
      "pluginVersion": "9.0.0",
      "targets": [
        {
          "expr": "sum(github_workflow_run_count_total{workflow=~\".*Deploy.*\",branch=\"main\"})",
          "refId": "A"
        }
      ],
      "title": "üöÄ Deployment Frequency (Production)",
      "type": "stat"
    },
    {
      "datasource": "Prometheus",
      "description": "Th·ªùi gian deploy g·∫ßn nh·∫•t",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              }
            ]
          },
          "unit": "dateTimeFromNow"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 6,
        "x": 18,
        "y": 5
      },
      "id": 5,
      "options": {
        "colorMode": "value",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "values": false,
          "calcs": [
            "lastNotNull"
          ],
          "fields": ""
        },
        "text": {},
        "textMode": "auto"
      },
      "pluginVersion": "9.0.0",
      "targets": [
        {
          "expr": "max(github_workflow_run_timestamp_seconds{workflow=~\".*Deploy.*\"}) * 1000",
          "refId": "A"
        }
      ],
      "title": "üïê Last Deployment",
      "type": "stat"
    },
    {
      "datasource": "Prometheus",
      "description": "CI Test stage status (Stage 1)",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [
            {
              "options": {
                "0": {
                  "color": "green",
                  "index": 0,
                  "text": "‚úÖ SUCCESS"
                },
                "1": {
                  "color": "red",
                  "index": 1,
                  "text": "‚ùå FAILURE"
                },
                "2": {
                  "color": "yellow",
                  "index": 2,
                  "text": "‚è∏Ô∏è CANCELLED"
                },
                "3": {
                  "color": "blue",
                  "index": 3,
                  "text": "‚è≠Ô∏è SKIPPED"
                }
              },
              "type": "value"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 1
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 6,
        "w": 8,
        "x": 0,
        "y": 13
      },
      "id": 6,
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "justifyMode": "center",
        "orientation": "auto",
        "reduceOptions": {
          "values": false,
          "calcs": [
            "lastNotNull"
          ],
          "fields": ""
        },
        "text": {},
        "textMode": "value"
      },
      "pluginVersion": "9.0.0",
      "targets": [
        {
          "expr": "github_workflow_run_status{workflow=~\"CI.*\"}",
          "refId": "A"
        }
      ],
      "title": "1Ô∏è‚É£ CI - Test & Lint Status",
      "type": "stat"
    },
    {
      "datasource": "Prometheus",
      "description": "Docker Build stage status (Stage 2)",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [
            {
              "options": {
                "0": {
                  "color": "green",
                  "index": 0,
                  "text": "‚úÖ SUCCESS"
                },
                "1": {
                  "color": "red",
                  "index": 1,
                  "text": "‚ùå FAILURE"
                },
                "2": {
                  "color": "yellow",
                  "index": 2,
                  "text": "‚è∏Ô∏è CANCELLED"
                },
                "3": {
                  "color": "blue",
                  "index": 3,
                  "text": "‚è≠Ô∏è SKIPPED"
                }
              },
              "type": "value"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 1
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 6,
        "w": 8,
        "x": 8,
        "y": 13
      },
      "id": 7,
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "justifyMode": "center",
        "orientation": "auto",
        "reduceOptions": {
          "values": false,
          "calcs": [
            "lastNotNull"
          ],
          "fields": ""
        },
        "text": {},
        "textMode": "value"
      },
      "pluginVersion": "9.0.0",
      "targets": [
        {
          "expr": "github_workflow_run_status{workflow=~\".*Build.*\"}",
          "refId": "A"
        }
      ],
      "title": "2Ô∏è‚É£ Docker Build & Push Status",
      "type": "stat"
    },
    {
      "datasource": "Prometheus",
      "description": "Deploy stage status (Stage 3)",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [
            {
              "options": {
                "0": {
                  "color": "green",
                  "index": 0,
                  "text": "‚úÖ SUCCESS"
                },
                "1": {
                  "color": "red",
                  "index": 1,
                  "text": "‚ùå FAILURE"
                },
                "2": {
                  "color": "yellow",
                  "index": 2,
                  "text": "‚è∏Ô∏è CANCELLED"
                },
                "3": {
                  "color": "blue",
                  "index": 3,
                  "text": "‚è≠Ô∏è SKIPPED"
                }
              },
              "type": "value"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 1
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 6,
        "w": 8,
        "x": 16,
        "y": 13
      },
      "id": 8,
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "justifyMode": "center",
        "orientation": "auto",
        "reduceOptions": {
          "values": false,
          "calcs": [
            "lastNotNull"
          ],
          "fields": ""
        },
        "text": {},
        "textMode": "value"
      },
      "pluginVersion": "9.0.0",
      "targets": [
        {
          "expr": "github_workflow_run_status{workflow=~\".*Deploy.*\"}",
          "refId": "A"
        }
      ],
      "title": "3Ô∏è‚É£ Deploy to EC2 Status",
      "type": "stat"
    },
    {
      "datasource": "Prometheus",
      "description": "Th·ªùi gian ch·∫°y t·ª´ng stage",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "bars",
            "fillOpacity": 80,
            "gradientMode": "none",
            "hideFrom": {
              "tooltip": false,
              "viz": false,
              "legend": false
            },
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 300
              }
            ]
          },
          "unit": "s"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "CI Test"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "blue",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Docker Build"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "purple",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Deploy"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "green",
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 8,
        "w": 24,
        "x": 0,
        "y": 19
      },
      "id": 9,
      "options": {
        "legend": {
          "calcs": ["mean", "lastNotNull", "max"],
          "displayMode": "table",
          "placement": "right"
        },
        "tooltip": {
          "mode": "multi"
        }
      },
      "pluginVersion": "9.0.0",
      "targets": [
        {
          "expr": "avg(github_workflow_run_duration_seconds{workflow=~\"CI.*\"}) by (workflow)",
          "legendFormat": "CI Test",
          "refId": "A"
        },
        {
          "expr": "avg(github_workflow_run_duration_seconds{workflow=~\".*Build.*\"}) by (workflow)",
          "legendFormat": "Docker Build",
          "refId": "B"
        },
        {
          "expr": "avg(github_workflow_run_duration_seconds{workflow=~\".*Deploy.*\"}) by (workflow)",
          "legendFormat": "Deploy",
          "refId": "C"
        }
      ],
      "title": "‚è±Ô∏è Stage Duration Comparison",
      "type": "timeseries"
    },
    {
      "datasource": "Prometheus",
      "description": "Timeline c·ªßa to√†n b·ªô pipeline runs",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 20,
            "gradientMode": "opacity",
            "hideFrom": {
              "tooltip": false,
              "viz": false,
              "legend": false
            },
            "lineInterpolation": "smooth",
            "lineWidth": 2,
            "pointSize": 8,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "always",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 9,
        "w": 24,
        "x": 0,
        "y": 27
      },
      "id": 10,
      "options": {
        "legend": {
          "calcs": ["sum", "lastNotNull"],
          "displayMode": "table",
          "placement": "right"
        },
        "tooltip": {
          "mode": "multi"
        }
      },
      "pluginVersion": "9.0.0",
      "targets": [
        {
          "expr": "sum(increase(github_workflow_run_count_total{workflow=~\"CI.*\"}[5m])) by (workflow)",
          "legendFormat": "{{workflow}}",
          "refId": "A"
        },
        {
          "expr": "sum(increase(github_workflow_run_count_total{workflow=~\".*Build.*\"}[5m])) by (workflow)",
          "legendFormat": "{{workflow}}",
          "refId": "B"
        },
        {
          "expr": "sum(increase(github_workflow_run_count_total{workflow=~\".*Deploy.*\"}[5m])) by (workflow)",
          "legendFormat": "{{workflow}}",
          "refId": "C"
        }
      ],
      "title": "üìà Full Pipeline Execution Timeline",
      "type": "timeseries"
    },
    {
      "datasource": "Prometheus",
      "description": "X√°c ƒë·ªãnh stage n√†o fail nhi·ªÅu nh·∫•t",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "bars",
            "fillOpacity": 100,
            "gradientMode": "hue",
            "hideFrom": {
              "tooltip": false,
              "viz": false,
              "legend": false
            },
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "normal"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              }
            ]
          },
          "unit": "short"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Failures"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "red",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Success"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "green",
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 36
      },
      "id": 11,
      "options": {
        "legend": {
          "calcs": ["sum"],
          "displayMode": "table",
          "placement": "bottom"
        },
        "tooltip": {
          "mode": "multi"
        }
      },
      "pluginVersion": "9.0.0",
      "targets": [
        {
          "expr": "sum(github_workflow_run_success_total) by (workflow)",
          "legendFormat": "{{workflow}} - Success",
          "refId": "A"
        },
        {
          "expr": "sum(github_workflow_run_failure_total) by (workflow)",
          "legendFormat": "{{workflow}} - Failures",
          "refId": "B"
        }
      ],
      "title": "‚úÖ‚ùå Success vs Failure by Stage",
      "type": "timeseries"
    },
    {
      "datasource": "Prometheus",
      "description": "Failure rate c·ªßa t·ª´ng stage",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "max": 100,
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "yellow",
                "value": 5
              },
              {
                "color": "orange",
                "value": 15
              },
              {
                "color": "red",
                "value": 30
              }
            ]
          },
          "unit": "percent"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 36
      },
      "id": 12,
      "options": {
        "displayMode": "gradient",
        "orientation": "horizontal",
        "reduceOptions": {
          "values": false,
          "calcs": [
            "lastNotNull"
          ],
          "fields": ""
        },
        "showUnfilled": true
      },
      "pluginVersion": "9.0.0",
      "targets": [
        {
          "expr": "(sum(github_workflow_run_failure_total) by (workflow) / sum(github_workflow_run_count_total) by (workflow)) * 100",
          "legendFormat": "{{workflow}}",
          "refId": "A"
        }
      ],
      "title": "‚ùå Failure Rate by Stage",
      "type": "bargauge"
    },
    {
      "datasource": "Prometheus",
      "description": "Ho·∫°t ƒë·ªông deploy theo branch",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 30,
            "gradientMode": "opacity",
            "hideFrom": {
              "tooltip": false,
              "viz": false,
              "legend": false
            },
            "lineInterpolation": "smooth",
            "lineWidth": 2,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 44
      },
      "id": 13,
      "options": {
        "legend": {
          "calcs": ["sum", "lastNotNull"],
          "displayMode": "table",
          "placement": "right"
        },
        "tooltip": {
          "mode": "multi"
        }
      },
      "pluginVersion": "9.0.0",
      "targets": [
        {
          "expr": "sum(increase(github_workflow_run_count_total{workflow=~\".*Deploy.*\"}[1h])) by (branch)",
          "legendFormat": "{{branch}}",
          "refId": "A"
        }
      ],
      "title": "üåø Deployment Activity by Branch",
      "type": "timeseries"
    },
    {
      "datasource": "Prometheus",
      "description": "Top contributors trong pipeline",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "bars",
            "fillOpacity": 80,
            "gradientMode": "hue",
            "hideFrom": {
              "tooltip": false,
              "viz": false,
              "legend": false
            },
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 44
      },
      "id": 14,
      "options": {
        "legend": {
          "calcs": ["sum"],
          "displayMode": "table",
          "placement": "right"
        },
        "tooltip": {
          "mode": "multi"
        }
      },
      "pluginVersion": "9.0.0",
      "targets": [
        {
          "expr": "sum(github_workflow_run_count_total) by (actor)",
          "legendFormat": "{{actor}}",
          "refId": "A"
        }
      ],
      "title": "üë• Pipeline Activity by Contributor",
      "type": "timeseries"
    },
    {
      "datasource": "Prometheus",
      "description": "Deployment frequency trend (deploys per day)",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "custom": {
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 30,
            "gradientMode": "scheme",
            "hideFrom": {
              "tooltip": false,
              "viz": false,
              "legend": false
            },
            "lineInterpolation": "smooth",
            "lineWidth": 3,
            "pointSize": 8,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "always",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "area"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "red",
                "value": null
              },
              {
                "color": "yellow",
                "value": 1
              },
              {
                "color": "green",
                "value": 3
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 24,
        "x": 0,
        "y": 52
      },
      "id": 15,
      "options": {
        "legend": {
          "calcs": ["mean", "lastNotNull", "max"],
          "displayMode": "table",
          "placement": "right"
        },
        "tooltip": {
          "mode": "multi"
        }
      },
      "pluginVersion": "9.0.0",
      "targets": [
        {
          "expr": "sum(increase(github_workflow_run_count_total{workflow=~\".*Deploy.*\",branch=\"main\"}[1d]))",
          "legendFormat": "Deploys per Day",
          "refId": "A"
        }
      ],
      "title": "üìä Deployment Frequency Trend",
      "type": "timeseries"
    },
    {
      "datasource": "Prometheus",
      "gridPos": {
        "h": 10,
        "w": 24,
        "x": 0,
        "y": 60
      },
      "id": 16,
      "options": {
        "content": "# üìö Dashboard Help & Metrics Information\n\n## üéØ Available Metrics:\n\n### Pipeline Metrics:\n- `github_workflow_run_count_total` - T·ªïng s·ªë l·∫ßn ch·∫°y workflow\n- `github_workflow_run_success_total` - S·ªë l·∫ßn ch·∫°y th√†nh c√¥ng\n- `github_workflow_run_failure_total` - S·ªë l·∫ßn ch·∫°y th·∫•t b·∫°i\n- `github_workflow_run_duration_seconds` - Th·ªùi gian ch·∫°y (gi√¢y)\n- `github_workflow_run_status` - Tr·∫°ng th√°i hi·ªán t·∫°i (0=success, 1=failure, 2=cancelled, 3=skipped)\n- `github_workflow_run_timestamp_seconds` - Timestamp l·∫ßn ch·∫°y g·∫ßn nh·∫•t\n\n### Labels Available:\n- `workflow` - T√™n workflow (CI Test / Docker Build / Deploy)\n- `branch` - Git branch (main, develop, deploy, etc.)\n- `actor` - GitHub username (contributor)\n- `repo` - Repository name\n- `status` - Status string (success/failure)\n- `run_id` - GitHub workflow run ID\n- `run_number` - Workflow run number\n\n## üí° Tips:\n\n1. **Filter by Stage**: Use workflow filter ƒë·ªÉ xem specific stage (CI/Build/Deploy)\n2. **Filter by Branch**: Xem activity c·ªßa branch c·ª• th·ªÉ (main cho production)\n3. **Filter by Actor**: Theo d√µi contributions c·ªßa team members\n4. **Time Range**: Adjust time range ƒë·ªÉ xem trends (6h/24h/7d/30d)\n5. **Auto Refresh**: Dashboard t·ª± ƒë·ªông refresh m·ªói 30s\n\n## üîó Quick Links:\n\n- **GitHub Actions**: https://github.com/ductoanoxo/FOODFAST/actions\n- **Pushgateway Metrics**: http://13.220.101.54:9091/metrics\n- **Prometheus Query**: http://13.220.101.54:9090\n- **Grafana Home**: http://13.220.101.54:3030\n\n## üìû Troubleshooting:\n\n- **No data?** ‚Üí Run a workflow on GitHub to generate metrics\n- **Stale data?** ‚Üí Check if Pushgateway is running: `docker ps | grep pushgateway`\n- **Wrong values?** ‚Üí Verify Prometheus scraping: http://13.220.101.54:9090/targets\n- **Filters empty?** ‚Üí Wait for workflows to complete and push metrics\n\n---\n**Dashboard Version**: 3.0 Full Pipeline | **Last Updated**: Nov 15, 2025",
        "mode": "markdown"
      },
      "pluginVersion": "9.0.0",
      "title": "‚ÑπÔ∏è Dashboard Information & Help",
      "type": "text"
    }
  ],
  "refresh": "30s",
  "schemaVersion": 30,
  "style": "dark",
  "tags": [
    "cicd",
    "github-actions",
    "foodfast",
    "pipeline",
    "devops",
    "full-pipeline"
  ],
  "templating": {
    "list": [
      {
        "allValue": ".*",
        "current": {
          "selected": true,
          "text": "All",
          "value": "$__all"
        },
        "datasource": "Prometheus",
        "definition": "label_values(github_workflow_run_count_total, workflow)",
        "hide": 0,
        "includeAll": true,
        "label": "üîß Workflow",
        "multi": true,
        "name": "workflow",
        "options": [],
        "query": {
          "query": "label_values(github_workflow_run_count_total, workflow)",
          "refId": "Prometheus-workflow-Variable-Query"
        },
        "refresh": 2,
        "regex": "",
        "skipUrlSync": false,
        "sort": 1,
        "type": "query"
      },
      {
        "allValue": ".*",
        "current": {
          "selected": true,
          "text": "All",
          "value": "$__all"
        },
        "datasource": "Prometheus",
        "definition": "label_values(github_workflow_run_count_total, branch)",
        "hide": 0,
        "includeAll": true,
        "label": "üåø Branch",
        "multi": true,
        "name": "branch",
        "options": [],
        "query": {
          "query": "label_values(github_workflow_run_count_total, branch)",
          "refId": "Prometheus-branch-Variable-Query"
        },
        "refresh": 2,
        "regex": "",
        "skipUrlSync": false,
        "sort": 1,
        "type": "query"
      },
      {
        "allValue": ".*",
        "current": {
          "selected": true,
          "text": "All",
          "value": "$__all"
        },
        "datasource": "Prometheus",
        "definition": "label_values(github_workflow_run_count_total, actor)",
        "hide": 0,
        "includeAll": true,
        "label": "üë§ Actor",
        "multi": true,
        "name": "actor",
        "options": [],
        "query": {
          "query": "label_values(github_workflow_run_count_total, actor)",
          "refId": "Prometheus-actor-Variable-Query"
        },
        "refresh": 2,
        "regex": "",
        "skipUrlSync": false,
        "sort": 1,
        "type": "query"
      }
    ]
  },
  "time": {
    "from": "now-6h",
    "to": "now"
  },
  "timepicker": {
    "refresh_intervals": [
      "10s",
      "30s",
      "1m",
      "5m",
      "15m",
      "30m",
      "1h",
      "2h"
    ],
    "time_options": [
      "5m",
      "15m",
      "1h",
      "6h",
      "12h",
      "24h",
      "2d",
      "7d",
      "30d"
    ]
  },
  "timezone": "browser",
  "title": "FoodFast CI/CD Full Pipeline",
  "uid": "cicd-full-pipeline",
  "version": 1
}
